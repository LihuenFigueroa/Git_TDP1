/*
 * main_MEF.c
 *
 *  Created on: 18/12/2018
 *      Author: Lihuen
 */

#include "sapi.h"
#include "board.h"
#include "chip.h"
#include "main_MEF.h"
#include "lcd.h"

static void configKeypad(keypad_t* keypad){
		uint16_t keypressed=0;
		gpioMap_t columnas[]={T_FIL3,T_FIL2,T_COL0,T_FIL1};
		gpioMap_t filas[]={CAN_RD,CAN_TD,T_COL1,T_FIL0};
		keypadConfig(keypad,filas,4,columnas,4);
}

static void main_MEF_Init(){
	///////////////		LCD	- INIT		/////////////////
	LCD_init(DISPLAY_8X5 | _2_LINES, DISPLAY_ON | CURSOR_ON | CURSOR_BLINK);
	LCD_Clear_Buffer();
	/////////////////////////////////////////////////////

	//////////////	COMUNICACION - INIT /////////////////
	comFSM.comFSM_Init();
	/////////////////////////////////////////////////////

	///////////////		KEYPAD	- INIT		/////////////////
	configKeypad(&keypad);
	/////////////////////////////////////////////////////
	state=STATE_NORMAL;

}


